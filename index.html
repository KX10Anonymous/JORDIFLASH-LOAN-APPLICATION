<!DOCTYPE html>
<html>
    <head>
        <title>Loan Application</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <div>TODO write content</div>
        <div>
            <label for="idNumber">ID Number:</label>
            <input type="text" id="idNumber" name="idNumber" required oninput="populateDOB()">
            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" required readonly>
            <p id="age"></p> <!-- Age display -->
        </div>
    </body>
<script>
function populateDOB() {
    const idNumber = document.getElementById('idNumber').value;
    const dobField = document.getElementById('dob');
    const ageField = document.getElementById('age');
    if (idNumber.length >= 6) {
        const year = idNumber.substring(0, 2);
        const month = idNumber.substring(2, 4);
        const day = idNumber.substring(4, 6);
        const currentYear = new Date().getFullYear();
        const fullYear = (parseInt(year) > currentYear % 100) ? `19${year}` : `20${year}`;
        dobField.value = `${fullYear}-${month}-${day}`;
        
        // Calculate age
        const birthDate = new Date(fullYear, month - 1, day);
        const age = currentYear - birthDate.getFullYear();
        const monthDiff = new Date().getMonth() - birthDate.getMonth();
        if (monthDiff < 0 || (monthDiff === 0 && new Date().getDate() < birthDate.getDate())) {
            age--;
        }
        ageField.textContent = `Age: ${age}`;
    }
}

</script>

</html>
